# Lesson 3: The Engine Glitch (å¼•æ“æ•…éšœ - å‡½æ•°ä¸å—æ§å¤±è´¥) ğŸ’¥ (å£æ’­ç¨¿)

> **åœºæ™¯å»ºè®®**ï¼šèƒŒæ™¯éŸ³ä¸ºå¼•æ“ä¸ç¨³å®šçš„è½°é¸£å£°ï¼Œçº¢ç¯é—ªçƒçš„éŸ³æ•ˆã€‚
> **é¢„è®¡æ—¶é•¿**ï¼š25 åˆ†é’Ÿ
> **è§’è‰²**ï¼šé¢†èˆªå‘˜ (Instructor) - ç„¦æ€¥ã€‚

---

## 0. æ•…éšœæŠ¥è­¦ (Emergency Alert) - 3 min

**é¢†èˆªå‘˜**ï¼š
(è­¦æŠ¥å£°å¤§ä½œ)
â€œè­¦å‘Šï¼šä¸»å¼•æ“æ¨åŠ›å‚æ•°å¼‚å¸¸ã€‚â€

è¿™å°±æ¥äº†ã€‚æˆ‘ä¹‹å‰è¯´è¿‡ï¼Œå˜é‡å“ªæ€•é”™ä¸€ç‚¹ç‚¹ï¼Œéƒ½ä¼šè¦å‘½ã€‚
ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ ¸å¿ƒå¼•æ“å‡½æ•° `calculate_thrust()` ä¼¼ä¹å‡ºäº†é—®é¢˜ã€‚
è¿™ä¸ªå‡½æ•°æ˜¯ç”±ä¸Šä¸€ä»»è™½ç„¶èªæ˜ä½†ç²—å¿ƒçš„ AI å†™çš„ã€‚

ä»Šå¤©ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡ä¸ä»…æ˜¯å­¦ä¹  **Function (å‡½æ•°)** æ€ä¹ˆå†™ã€‚
æ›´é‡è¦çš„æ˜¯ï¼Œæˆ‘ä»¬è¦æ‰®æ¼” **Auditor (å®¡æŸ¥å‘˜)**ã€‚
æˆ‘ä»¬è¦æ‰¾å‡º AI ä»£ç é‡Œçš„é‚£ä¸ªè¶³ä»¥æ‘§æ¯æ•´è‰˜é£èˆ¹çš„ Bugã€‚

---

## 1. æ‰€è°“â€œå®Œç¾â€çš„ä»£ç  (The "Perfect" Code) - 5 min

**é¢†èˆªå‘˜**ï¼š
å…ˆæ¥çœ‹çœ‹è¿™ä¸ªæ‰€è°“çš„â€œå®Œç¾å¼•æ“â€ã€‚

**(Step 1: The Trap)**
æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„è„šæœ¬æ¥æµ‹è¯•å¼•æ“ã€‚
1.  æ–°å»ºæ–‡ä»¶ `engine_check.py`ã€‚
2.  åœ¨ Right Panel é—®ä½ çš„ Agentï¼š
> "Write a Python function to calculate thrust. Formula is: thrust = fuel * burn_rate. It should return the thrust."

Agent å¯èƒ½ä¼šå¾ˆé«˜å…´åœ°ç»™ä½ è¿™æ®µä»£ç ã€‚æŠŠå®ƒå¤åˆ¶åˆ°ä½ çš„è„šæœ¬é‡Œï¼š
```python
def calculate_thrust(fuel, burn_rate):
    """Calculates engine thrust based on fuel and burn rate."""
    return fuel * burn_rate
```
çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼Œå¯¹å§ï¼Ÿ
é€»è¾‘æ¸…æ™°ï¼Œè¿˜æœ‰æ–‡æ¡£å­—ç¬¦ä¸²ã€‚å®Œç¾ï¼Ÿ
**å¤§é”™ç‰¹é”™ã€‚**

---

## 2. è‡´å‘½æ¼æ´ (The Fatal Flaw) - 6 min

**é¢†èˆªå‘˜**ï¼š
ä½œä¸ºæŒ‡æŒ¥å®˜ï¼Œä½ å¿…é¡»æ¯” AI æƒ³å¾—æ›´è¿œã€‚
è¯•ç€æ€è€ƒä¸€ä¸‹ï¼š**å¦‚æœç‡ƒæ–™è¯»æ•°å™¨åäº†ï¼Œä¼ è¿›æ¥ä¸€ä¸ªè´Ÿæ•°æ€ä¹ˆåŠï¼Ÿ**
æˆ–è€…ï¼Œ**å¦‚æœç‡ƒçƒ§ç‡æ˜¯ 0 æ€ä¹ˆåŠï¼Ÿ**

**(Step 2: Auditor Mode)**
æˆ‘ä»¬åœ¨ä»£ç é‡Œè¯•ä¸€ä¸‹ï¼š
```python
# ä¼ æ„Ÿå™¨æ•…éšœï¼Œè¯»æ•°ä¸º -10
thrust = calculate_thrust(-10, 1.2)
print(f"Thrust: {thrust}")
```
ç»“æœæ˜¯ `-12`ã€‚
å¼•æ“ä¼šåæ¨ã€‚é£èˆ¹ä¼šå€’ç€æ’å‘å‘å°„å¡”ã€‚å…¨å‘˜é˜µäº¡ã€‚

è¿™å°±æ˜¯ **Uncontrolled AI Code** çš„åæœã€‚å®ƒåªç®¡ç¿»è¯‘å…¬å¼ï¼Œä¸ç®¡ç‰©ç†ç°å®ã€‚

---

## 3. å—æ§ä¿®å¤ (Controlled Fix) - 6 min

**é¢†èˆªå‘˜**ï¼š
ç°åœ¨ï¼Œæˆ‘ä»¬è¦ä¿®å¤å®ƒã€‚
æˆ‘ä»¬è¦æ•™ AI ä»€ä¹ˆæ˜¯â€œå®‰å…¨è¾¹ç•Œâ€ã€‚

**(Step 3: The Fix Prompt)**
åœ¨ Right Panel å‘Šè¯‰ Agentï¼š
> "The code has a bug. If fuel is negative, it returns negative thrust which is impossible. Fix the function to return 0 if fuel is less than 0. Use an if statement."

Agent ä¼šç¾æ„§åœ°ï¼ˆå¦‚æœå®ƒæœ‰æ„Ÿæƒ…çš„è¯ï¼‰ç»™å‡ºä¿®æ­£ç‰ˆï¼š
```python
def calculate_thrust(fuel: float, burn_rate: float) -> float:
    if fuel < 0:
        print("WARNING: Fuel sensor error!")
        return 0.0
    return fuel * burn_rate
```

**é¢†èˆªå‘˜**ï¼š
è¿™æ‰æ˜¯èƒ½æ•‘å‘½çš„ä»£ç ã€‚
æ³¨æ„é‚£ä¸ª `if fuel < 0`ã€‚è¿™å°±æ˜¯ **Logic Guardrail (é€»è¾‘æŠ¤æ )**ã€‚
è¿™ä¹Ÿæ˜¯æˆ‘ä»¬ä¸‹ä¸€è¯¾è¦æ·±å…¥è®²çš„å†…å®¹ã€‚

---

## 4. å•å…ƒæµ‹è¯•ï¼šé«˜å‹æµ‹è¯• (Pressure Test) - 5 min

**é¢†èˆªå‘˜**ï¼š
æˆ‘ä»¬ä¸èƒ½åªä¿®è¿™ä¸€æ¬¡ã€‚æˆ‘ä»¬è¦ç¡®ä¿å®ƒæ°¸è¿œä¸ä¼šå†å‡ºè¿™ç§é”™ã€‚
æˆ‘ä»¬éœ€è¦ **Unit Tests (å•å…ƒæµ‹è¯•)**ã€‚

**(Step 4: Agent Testing)**
å‘½ä»¤ Agentï¼š
> "Generate 3 unit tests for this function. Include normal case, zero case, and negative fuel case."

Agent ç”Ÿæˆï¼š
```python
assert calculate_thrust(100, 2) == 200  # Normal
assert calculate_thrust(0, 2) == 0      # Zero
assert calculate_thrust(-50, 2) == 0    # Safety Check
```
è¿è¡Œå®ƒã€‚
å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼ˆNo assertion errorï¼‰ï¼Œè¯´æ˜æŠ¤æ ç”Ÿæ•ˆäº†ã€‚

---

## 5. æ€»ç»“ (Debrief) - 2 min

**é¢†èˆªå‘˜**ï¼š
å¼•æ“æ¢å¤æ­£å¸¸æ¨åŠ›ã€‚
ä½†è¿™èº«å†·æ±—å‡ºå¾—å€¼ã€‚

ä½ ä»¬å­¦åˆ°äº†ä½œä¸ºç¨‹åºå‘˜æœ€é‡è¦çš„ä¸€è¯¾ï¼š
**AI å¯ä»¥å¸®ä½ å†™ä»£ç ï¼Œä½†å®ƒä¸èƒ½å¸®ä½ â€œè´Ÿè´£â€ã€‚**
åªæœ‰ä½ çŸ¥é“è´Ÿæ•°çš„ç‡ƒæ–™æ„å‘³ç€æ­»äº¡ã€‚

ä¸‹ä¸€èŠ‚è¯¾ (Lesson 4)ï¼Œæˆ‘ä»¬å°†é¢ä¸´æ›´æ£˜æ‰‹çš„é—®é¢˜ã€‚
å¼•æ“å¥½äº†ï¼Œä½†æ°§æ°”ç³»ç»Ÿæ­£åœ¨æ³„æ¼ã€‚
æˆ‘ä»¬éœ€è¦åœ¨å‡ åƒä¸ªé›¶ä»¶ä¸­ç¬é—´æ‰¾åˆ°é‚£ä¸ªå¤‡ç”¨é˜€é—¨ã€‚
å¦‚æœæˆ‘ä»¬è¿˜åœ¨ç”¨ List æ…¢æ…¢ç¿»æ‰¾ï¼Œæ°§æ°”å¯èƒ½ä¼šå…ˆè€—å°½ã€‚
æˆ‘ä»¬éœ€è¦ä¸€ç§æ›´å¿«çš„æ­¦å™¨ï¼š**Dictionary (å­—å…¸)**ã€‚

**Engine stabilized. Resume course.**
(å¼•æ“ç¨³å®šã€‚æ¢å¤èˆªçº¿ã€‚)
